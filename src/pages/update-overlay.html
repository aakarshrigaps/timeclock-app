<div
   id="update-overlay"
   style="
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      font-family: Arial, sans-serif;
   "
>
   <div
      id="overlay-content"
      style="
         text-align: center;
         padding: 20px;
         border-radius: 10px;
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
      "
   >
      <h2 style="margin: 0 0 10px">Downloading Update</h2>
      <p style="margin: 0 0 20px">
         Please wait while the update is being downloaded...
      </p>
      <div
         id="progress-bar"
         style="
            width: auto;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
         "
      >
         <div
            id="progress-fill"
            style="width: 0%; height: 100%; transition: width 0.3s ease"
         ></div>
      </div>
      <p id="progress-text" style="margin-top: 10px; font-size: 14px">
         0% completed
      </p>
   </div>
</div>

<script>
   // Function to apply the theme
   function applyTheme(isDarkMode) {
      const overlay = document.getElementById("update-overlay");
      const content = document.getElementById("overlay-content");
      const progressBar = document.getElementById("progress-bar");
      const progressFill = document.getElementById("progress-fill");

      if (isDarkMode) {
         overlay.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
         content.style.backgroundColor = "#1d1d1d";
         content.style.color = "#fff";
         progressBar.style.backgroundColor = "#292929";
         progressFill.style.backgroundColor = "#4caf50";
      } else {
         overlay.style.backgroundColor = "rgba(255, 255, 255, 0.9)";
         content.style.backgroundColor = "#f0f0f0";
         content.style.color = "#000";
         progressBar.style.backgroundColor = "#ccc";
         progressFill.style.backgroundColor = "#4caf50";
      }
   }

   // Detect system preference
   const prefersDarkMode = window.matchMedia("(prefers-color-scheme: dark)");
   applyTheme(prefersDarkMode.matches);

   // Listen for changes in preference
   prefersDarkMode.addEventListener("change", (e) => applyTheme(e.matches));
</script>
